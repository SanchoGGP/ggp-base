<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Sancho match record</title>

    <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js'></script>
    <script src="http://code.highcharts.com/highcharts.js"></script>

    <script type='text/javascript'>//<![CDATA[
      $(function ()
      {
          $('#MEM').highcharts(
          {
            chart: {marginRight: 80},
            title: {text: 'Memory'},
            xAxis: {type: 'datetime'},
            yAxis: [{title: {text: 'GB'}},]
          });

          $('#GC').highcharts(
          {
            chart: {marginRight: 80},
            title: {text: 'Garbage Collection'},
            xAxis: {type: 'datetime'},
            yAxis: [
                    {title: {text: 'ms'}},
                    {title: {text: 'count'},
                     opposite: true}
                   ]
          });

          $('#PERF').highcharts(
          {
            chart: {marginRight: 80},
            title: {text: 'Performance'},
            xAxis: {type: 'datetime'},
            yAxis: [
                    {title: {text: 'ms'}},
                    {title: {text: 'count'},
                     opposite: true}
                   ]
          });
      });

      function receiveMessage(xiEvent)
      {
        lLogData = JSON.parse(xiEvent.data);
        $.each(lLogData.statistics, function()
        {
          $('#' + this.showon).highcharts().addSeries(this);
        });
      }

      window.addEventListener("message", receiveMessage, false);
      parent.postMessage("", "*");

      //]]>
    </script>
  </head>

  <body>
    <div id="MEM" style="height: 400px"></div>
    <div id="GC" style="height: 400px"></div>
    <div id="PERF" style="height: 400px"></div>
  </body>

</html>

