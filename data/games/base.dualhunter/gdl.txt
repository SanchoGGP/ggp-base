role left role right <= base captures ?Board ?M role ?Board scoremap ?M ?N <= base cell ?Board ?M ?N ?P role ?Board row ?M col ?N piece ?P <= base step ?N succ ?M ?N <= input ?Role move ?M1 ?N1 ?M2 ?N2 role ?Role row ?M1 col ?N1 knightmove ?M1 ?N1 ?M2 ?N2 row 1 row 2 row 3 row 4 row 5 col 1 col 2 col 3 piece knight piece pawn piece blank init cell left 1 1 knight init cell left 1 2 pawn init cell left 1 3 pawn init cell left 2 1 pawn init cell left 2 2 pawn init cell left 2 3 pawn init cell left 3 1 pawn init cell left 3 2 pawn init cell left 3 3 pawn init cell left 4 1 pawn init cell left 4 2 pawn init cell left 4 3 pawn init cell left 5 1 pawn init cell left 5 2 pawn init cell left 5 3 pawn init captures left 0 init cell right 1 1 knight init cell right 1 2 pawn init cell right 1 3 pawn init cell right 2 1 pawn init cell right 2 2 pawn init cell right 2 3 pawn init cell right 3 1 pawn init cell right 3 2 pawn init cell right 3 3 pawn init cell right 4 1 pawn init cell right 4 2 pawn init cell right 4 3 pawn init cell right 5 1 pawn init cell right 5 2 pawn init cell right 5 3 pawn init captures right 0 init step 1 <= legal ?Role move ?M1 ?N1 ?M2 ?N2 role ?Role true cell ?Role ?M1 ?N1 knight knightmove ?M1 ?N1 ?M2 ?N2 <= next cell ?Role ?M2 ?N2 knight does ?Role move ?M1 ?N1 ?M2 ?N2 <= next cell ?Role ?M1 ?N1 blank does ?Role move ?M1 ?N1 ?M2 ?N2 <= next cell ?Role ?U ?V pawn true cell ?Role ?U ?V pawn does ?Role move ?M1 ?N1 ?M2 ?N2 distinct ?U ?M2 <= next cell ?Role ?U ?V pawn true cell ?Role ?U ?V pawn does ?Role move ?M1 ?N1 ?M2 ?N2 distinct ?V ?N2 <= next cell ?Role ?U ?V blank true cell ?Role ?U ?V blank does ?Role move ?M1 ?N1 ?M2 ?N2 distinct ?U ?M2 <= next cell ?Role ?U ?V blank true cell ?Role ?U ?V blank does ?Role move ?M1 ?N1 ?M2 ?N2 distinct ?V ?N2 <= next captures ?Role ?Old does ?Role move ?M1 ?N1 ?M2 ?N2 true cell ?Role ?M2 ?N2 blank true captures ?Role ?Old <= next captures ?Role ?New does ?Role move ?M1 ?N1 ?M2 ?N2 true cell ?Role ?M2 ?N2 pawn true captures ?Role ?Old succ ?Old ?New <= next step ?New true step ?Old succ ?Old ?New <= goal ?Role ?Goal true captures ?Role ?Count scoremap ?Count ?Goal <= terminal true step 15 <= knightmove ?M1 ?N1 ?M2 ?N2 add1row ?M1 ?M2 add2col ?N1 ?N2 <= knightmove ?M1 ?N1 ?M2 ?N2 add1row ?M1 ?M2 add2col ?N2 ?N1 <= knightmove ?M1 ?N1 ?M2 ?N2 add1row ?M2 ?M1 add2col ?N1 ?N2 <= knightmove ?M1 ?N1 ?M2 ?N2 add1row ?M2 ?M1 add2col ?N2 ?N1 <= knightmove ?M1 ?N1 ?M2 ?N2 add2row ?M1 ?M2 add1col ?N1 ?N2 <= knightmove ?M1 ?N1 ?M2 ?N2 add2row ?M1 ?M2 add1col ?N2 ?N1 <= knightmove ?M1 ?N1 ?M2 ?N2 add2row ?M2 ?M1 add1col ?N1 ?N2 <= knightmove ?M1 ?N1 ?M2 ?N2 add2row ?M2 ?M1 add1col ?N2 ?N1 succ 0 1 succ 1 2 succ 2 3 succ 3 4 succ 4 5 succ 5 6 succ 6 7 succ 7 8 succ 8 9 succ 9 10 succ 10 11 succ 11 12 succ 12 13 succ 13 14 succ 14 15 add1row 1 2 add1row 2 3 add1row 3 4 add1row 4 5 add2row 1 3 add2row 2 4 add2row 3 5 add1col 1 2 add1col 2 3 add2col 1 3 scoremap 0 0 scoremap 1 7 scoremap 2 14 scoremap 3 21 scoremap 4 28 scoremap 5 35 scoremap 6 42 scoremap 7 50 scoremap 8 57 scoremap 9 64 scoremap 10 71 scoremap 11 78 scoremap 12 85 scoremap 13 92 scoremap 14 100 
